
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Zuckabot Giveaway</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #0d0d0d;
      color: #00eaff;
      text-align: center;
      padding: 30px;
    }
    img.logo {
      width: 100px;
      margin-bottom: 20px;
    }
    h1 {
      font-size: 2em;
    }
    button {
      display: block;
      margin: 10px auto;
      padding: 12px 20px;
      border: none;
      border-radius: 10px;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
      background: #00eaff;
      color: #000;
      transition: 0.3s;
    }
    button:hover {
      background: #00bcd4;
    }
    #status {
      margin-top: 15px;
      font-size: 14px;
    }
    #error {
      color: red;
      margin-top: 10px;
    }
  </style>
</head>
<body>
  <!-- Logo (Base64 embedded, never breaks) -->
  <img class="logo" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAADaw0z6AAAABHNCSVQICAgIfAhkiAAABEBJREFUeJzt3cFtwjAURVFR+6+5pA6pA1lK4FztC7+oa3wfjJj8nNJ8AxgcAgAAAAAAAAAAAAAAAIByCN2Zv7Y6nQ6/VtO+u4CbpP+XLMvJ67cP/R/PVSt+6plfPx+fT4Kp+fQj1N5D/Z4Pn1CceRbKrvAf0cYc82dnwz4aLxY6lOH6t5+3o/1n+/eP1DXW+/nL6nHtVd1vr+V/tKq1hVV6rjPd/wE7W3umHpuTSdCjcfzuqVbUZh0z1VXUrvuI9G8o93akrxr6PUSdtm1FZ0T+7xLpjvaUp2M91+u9dvOvZHn89ijXsm6fj+ozV3Ttnvc+sbHn/mSrrp1z9vnU5pDd3sm4vr5r2pmZKp2rfk3JZpUXur28tdcKqFvPUnZKfHq4O/WrKd..."/>

  <h1>Zuckabot Pre-Launch Giveaway</h1>
  <p>Claim your free Zuckabot tokens.<br>Powered by BSC.</p>

  <button id="connectButton">Connect Wallet</button>
  <button id="disconnectButton" style="display:none;">Disconnect</button>
  <button id="addTokenButton" style="display:none;">Add ZUCKA to Wallet</button>
  <button id="initiateClaim" style="display:none;">Initiate Claim</button>
  <button id="finalizeClaim" style="display:none;">Finalize Claim</button>

  <div id="status">Not Connected</div>
  <div id="error"></div>

  <script src="https://cdn.jsdelivr.net/npm/ethers/dist/ethers.min.js"></script>
  <script>
    const distributorCA = "0xec222Dba73C17877773E411D15904bf205FbA149";
    const distributorABI = [
      {"inputs":[],"name":"initiateClaim","outputs":[],"stateMutability":"nonpayable","type":"function"},
      {"inputs":[],"name":"finalizeClaim","outputs":[],"stateMutability":"payable","type":"function"},
      {"inputs":[],"name":"requiredClaimWei","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}
    ];
    const zuckabotCA = "0x54bff3901d7d27ffe21b9a23bc8efb48c9847048";

    let provider, signer, distributor;

    async function connectWallet() {
      try {
        if (!window.ethereum) {
          alert("MetaMask or Web3 wallet required!");
          return;
        }
        provider = new ethers.providers.Web3Provider(window.ethereum);
        await provider.send("eth_requestAccounts", []);
        signer = provider.getSigner();

        // Check network
        const network = await provider.getNetwork();
        if (network.chainId !== 56) {
          alert("Switch to BNB Smart Chain Mainnet!");
          return;
        }

        distributor = new ethers.Contract(distributorCA, distributorABI, signer);

        document.getElementById("connectButton").style.display = "none";
        document.getElementById("disconnectButton").style.display = "block";
        document.getElementById("addTokenButton").style.display = "block";
        document.getElementById("initiateClaim").style.display = "block";
        document.getElementById("finalizeClaim").style.display = "block";
        document.getElementById("status").innerText = "Connected âœ… " + await signer.getAddress();
      } catch (err) {
        document.getElementById("error").innerText = "Connect failed: " + err.message;
      }
    }

    function disconnectWallet() {
      provider = null;
      signer = null;
      distributor = null;
      document.getElementById("connectButton").style.display = "block";
      document.getElementById("disconnectButton").style.display = "none";
      document.getElementById("addTokenButton").style.display = "none";
      document.getElementById("initiateClaim").style.display = "none";
      document.getElementById("finalizeClaim").style.display = "none";
      document.getElementById("status").innerText = "Disconnected";
    }

    async function addToken() {
      try {
        await window.ethereum.request({
          method: "wallet_watchAsset",
          params: {
            type: "ERC20",
            options: {
              address: zuckabotCA,
              symbol: "ZUCKA",
              decimals: 18,
            },
          },
        });
      } catch (err) {
        document.getElementById("error").innerText = "Add token failed: " + err.message;
      }
    }

    async function initiateClaim() {
      try {
        const tx = await distributor.initiateClaim({ gasLimit: 200000 });
        await tx.wait();
        alert("Claim initiated! Wait 10 minutes before finalizing.");
      } catch (err) {
        document.getElementById("error").innerText = "Initiate failed: " + err.message;
      }
    }

    async function finalizeClaim() {
      try {
        const requiredWei = await distributor.requiredClaimWei();
        const tx = await distributor.finalizeClaim({ value: requiredWei, gasLimit: 300000 });
        await tx.wait();
        alert("Claim finalized! You received ZUCKA.");
      } catch (err) {
        document.getElementById("error").innerText = "Finalize failed: " + err.message;
      }
    }

    document.getElementById("connectButton").onclick = connectWallet;
    document.getElementById("disconnectButton").onclick = disconnectWallet;
    document.getElementById("addTokenButton").onclick = addToken;
    document.getElementById("initiateClaim").onclick = initiateClaim;
    document.getElementById("finalizeClaim").onclick = finalizeClaim;
  </script>
</body>
</html>
